{"version":3,"sources":["../lib/cd-timer.ts"],"names":[],"mappings":"AACA,OAAO,EAEL,SAAS,EAAE,UAAA,EAAY,YAAA,EAAc,KAAA,EAAkB,MAAA,EAAQ,SAAA,EAChE,MAAM,eAAA,CAAgB;AAYvB;IAsBE,0BAAoB,GAAe,EAAU,QAAmB;QAA5C,QAAG,GAAH,GAAG,CAAY;QAAU,aAAQ,GAAR,QAAQ,CAAW;QAC9D,iBAAiB;QACjB,IAAI,CAAC,OAAO,GAAM,IAAI,YAAY,EAAE,CAAC;QACrC,IAAI,CAAC,UAAU,GAAG,IAAI,YAAY,EAAE,CAAC;QACrC,IAAI,CAAC,MAAM,GAAO,IAAI,YAAY,EAAE,CAAC;QACrC,IAAI,CAAC,MAAM,GAAO,IAAI,YAAY,EAAE,CAAC;QAErC,IAAI,CAAC,SAAS,GAAI,IAAI,CAAC;QACvB,IAAI,CAAC,SAAS,GAAI,CAAC,CAAC;QACpB,IAAI,CAAC,OAAO,GAAM,CAAC,CAAC;QACpB,IAAI,CAAC,SAAS,GAAI,IAAI,CAAC;QACvB,IAAI,CAAC,SAAS,GAAI,KAAK,CAAC;QACxB,IAAI,CAAC,MAAM,GAAO,SAAS,CAAC;IAC9B,CAAC;IAED,0CAAe,GAAf;QACE,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QACxI,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC;QACpD,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,KAAK,SAAS,IAAI,IAAI,CAAC,SAAS,KAAK,IAAI,CAAC,CAAC,CAAC;YAC5D,IAAI,CAAC,KAAK,EAAE,CAAC;QACf,CAAC;IACH,CAAC;IAED,sCAAW,GAAX;QACE,IAAI,CAAC,YAAY,EAAE,CAAC;IACtB,CAAC;IAED;;OAEG;IACI,gCAAK,GAAZ;QACE,IAAI,CAAC,OAAO,EAAE,CAAC;QACf,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,cAAc,EAAE,CAAC;QAEtB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC1B,CAAC;IAED;;OAEG;IACI,iCAAM,GAAb;QACE,IAAI,CAAC,YAAY,EAAE,CAAC;QAEpB,IAAI,CAAC,cAAc,EAAE,CAAC;IACxB,CAAC;IAED;;OAEG;IACI,+BAAI,GAAX;QACE,IAAI,CAAC,KAAK,EAAE,CAAC;QAEb,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACzB,CAAC;IAED;;OAEG;IACI,gCAAK,GAAZ;QACE,IAAI,CAAC,OAAO,EAAE,CAAC;QACf,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,KAAK,EAAE,CAAC;QACb,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC1B,IAAI,CAAC,UAAU,EAAE,CAAC;IACpB,CAAC;IAED;;;OAGG;IACI,8BAAG,GAAV;QACE,MAAM,CAAC;YACL,OAAO,EAAE,IAAI,CAAC,OAAO;YACrB,OAAO,EAAE,IAAI,CAAC,OAAO;YACrB,KAAK,EAAE,IAAI,CAAC,KAAK;YACjB,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,KAAK,EAAE,IAAI,CAAC,SAAS;YACrB,UAAU,EAAE,IAAI,CAAC,WAAW;SAC7B,CAAC;IACJ,CAAC;IAEO,kCAAO,GAAf;QACE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,IAAI,CAAC,CAAC;QACrC,IAAI,CAAC,OAAO,GAAK,IAAI,CAAC,OAAO,IAAI,CAAC,CAAC;QACnC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,IAAI,KAAK,CAAC;QACzC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC;QAElC,8CAA8C;QAC9C,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,KAAK,CAAC,CAAC,CAAC,CAAC;YAC3C,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACzB,CAAC;QAED,wBAAwB;QACxB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YACjB,IAAI,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,MAAM,GAAG,SAAS,CAAC;QACvE,CAAC;IACH,CAAC;IAEO,uCAAY,GAApB;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YACnB,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAChC,CAAC;IACH,CAAC;IAEO,qCAAU,GAAlB;QACE,IAAI,UAAU,CAAC;QACf,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,KAAK,MAAM,CAAC,CAAC,CAAC;YAC3B,oBAAoB;YACpB,IAAM,KAAK,GAAG;gBACZ,SAAS,EAAE,IAAI,CAAC,OAAO;gBACvB,SAAS,EAAE,IAAI,CAAC,OAAO;gBACvB,OAAO,EAAE,IAAI,CAAC,KAAK;gBACnB,MAAM,EAAE,IAAI,CAAC,IAAI;aAClB,CAAC;YAEF,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC;YAElC,GAAG,CAAC,CAAc,UAAkB,EAAlB,KAAA,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,EAAlB,cAAkB,EAAlB,IAAkB;gBAA/B,IAAM,GAAG,SAAA;gBACZ,UAAU,GAAG,UAAU,CAAC,OAAO,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,EAAG,KAAa,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;aAClF;QACH,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,KAAK,SAAS,CAAC,CAAC,CAAC;YACrC,uBAAuB;YACvB,UAAU,GAAG,EAAE,CAAC;YAChB,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC;gBAClB,UAAU,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC,GAAG,GAAG,CAAC;YAClF,CAAC;YACD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gBACxC,UAAU,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC;YAC7C,CAAC;YACD,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBAClE,UAAU,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,MAAM,CAAC;YAClE,CAAC;YACD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,KAAK,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC5C,UAAU,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,GAAG,CAAC;YAC/D,CAAC;QACH,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,KAAK,KAAK,CAAC,CAAC,CAAC;YACjC,mBAAmB;YACnB,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,GAAG,CAAC;YAC1D,UAAU,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,GAAG,CAAC;YAC7D,UAAU,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;QACzD,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,uBAAuB;YACvB,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC;YACzC,UAAU,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC;YAC3C,UAAU,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC;YAC7C,UAAU,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,GAAG,GAAG,CAAC;QAC9C,CAAC;QAED,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,EAAE,UAAU,CAAC,CAAC;IACzD,CAAC;IAEO,gCAAK,GAAb;QACE,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;IACxB,CAAC;IAES,6CAAkB,GAA5B;QACE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,WAAW,KAAK,KAAK,CAAC,CAAC,CAAC;YACpD,IAAI,CAAC,OAAO,GAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC,CAAC;YAClD,IAAI,CAAC,OAAO,GAAI,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;YACzD,IAAI,CAAC,KAAK,GAAM,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;YAC3D,IAAI,CAAC,IAAI,GAAO,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;QAC7D,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,KAAK,QAAQ,CAAC,CAAC,CAAC;YACzC,IAAI,CAAC,OAAO,GAAI,IAAI,CAAC,WAAW,CAAC;YACjC,IAAI,CAAC,OAAO,GAAI,CAAC,CAAC;YAClB,IAAI,CAAC,KAAK,GAAM,CAAC,CAAC;YAClB,IAAI,CAAC,IAAI,GAAO,CAAC,CAAC;QACpB,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,KAAK,QAAQ,CAAC,CAAC,CAAC;YACzC,IAAI,CAAC,OAAO,GAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC,CAAC;YAClD,IAAI,CAAC,OAAO,GAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC,CAAC;YAClD,IAAI,CAAC,KAAK,GAAM,CAAC,CAAC;YAClB,IAAI,CAAC,IAAI,GAAO,CAAC,CAAC;QACpB,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,KAAK,MAAM,CAAC,CAAC,CAAC;YACvC,IAAI,CAAC,OAAO,GAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC,CAAC;YAClD,IAAI,CAAC,OAAO,GAAI,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;YACzD,IAAI,CAAC,KAAK,GAAM,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,CAAC;YACpD,IAAI,CAAC,IAAI,GAAO,CAAC,CAAC;QACpB,CAAC;QAED,IAAI,CAAC,UAAU,EAAE,CAAC;IACpB,CAAC;IAES,yCAAc,GAAxB;QACE,IAAM,IAAI,GAAG,IAAI,CAAC;QAElB,IAAI,CAAC,SAAS,GAAG,WAAW,CAAC;YAC3B,IAAI,OAAO,CAAC;YAEZ,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;gBACnB,uCAAuC;gBACvC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC;gBAE3B,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;oBAClC,OAAO,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;gBAChD,CAAC;YACH,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,mCAAmC;gBACnC,OAAO,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC;gBAE5C,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;oBAClC,OAAO,GAAG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;gBAChD,CAAC;YACH,CAAC;YAED,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAE1B,IAAM,KAAK,GAAkB;gBAC3B,OAAO,EAAE,IAAI,CAAC,OAAO;gBACrB,OAAO,EAAE,IAAI,CAAC,OAAO;gBACrB,KAAK,EAAE,IAAI,CAAC,KAAK;gBACjB,IAAI,EAAE,IAAI,CAAC,IAAI;gBACf,KAAK,EAAE,IAAI,CAAC,SAAS;gBACrB,UAAU,EAAE,IAAI,CAAC,WAAW;aAC7B,CAAC;YAEF,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAExB,EAAE,CAAC,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC;gBAChB,IAAI,CAAC,IAAI,EAAE,CAAC;gBAEZ,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAC3B,MAAM,CAAC;YACT,CAAC;YAED,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;gBACnB,IAAI,CAAC,WAAW,EAAE,CAAC;YACrB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,IAAI,CAAC,WAAW,EAAE,CAAC;YACrB,CAAC;QACH,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,eAAe;IAC3B,CAAC;IAyBH,uBAAC;AAAD,CAtRA,AAsRC;;AAvBM,2BAAU,GAA0B;IAC3C,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;gBACxB,QAAQ,EAAE,UAAU;gBACpB,QAAQ,EAAE,4BAA4B;aACvC,EAAG,EAAE;CACL,CAAC;AACF,kBAAkB;AACX,+BAAc,GAAmE,cAAM,OAAA;IAC9F,EAAC,IAAI,EAAE,UAAU,GAAG;IACpB,EAAC,IAAI,EAAE,SAAS,GAAG;CAClB,EAH6F,CAG7F,CAAC;AACK,+BAAc,GAA2C;IAChE,WAAW,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;IAC/B,SAAS,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;IAC7B,WAAW,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;IAC/B,WAAW,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;IAC/B,aAAa,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;IACjC,QAAQ,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;IAC5B,SAAS,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE;IAC9B,QAAQ,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE;IAC7B,QAAQ,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE;IAC7B,YAAY,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE;CAChC,CAAC","file":"cd-timer.js","sourceRoot":"","sourcesContent":["\r\nimport {\r\n  AfterViewInit,\r\n  Component, ElementRef, EventEmitter, Input, OnDestroy, Output, Renderer2\r\n} from '@angular/core';\r\n\r\nexport interface TimeInterface {\r\n  tick_count: number;\r\n  seconds: number;\r\n  minutes: number;\r\n  hours: number;\r\n  days: number;\r\n  timer: any;\r\n}\r\n\r\n\r\nexport class CdTimerComponent implements AfterViewInit, OnDestroy {\r\n  private timeoutId: any;\r\n  private tickCounter: number;\r\n  private ngContentNode: any;\r\n  private ngContentSchema: string;\r\n\r\n  private seconds: number;\r\n  private minutes: number;\r\n  private hours: number;\r\n  private days: number;\r\n\r\n   startTime: number;\r\n   endTime: number;\r\n   countdown: boolean;\r\n   autoStart: boolean;\r\n   maxTimeUnit: string;\r\n   format: string;\r\n   onStart: EventEmitter<CdTimerComponent>;\r\n   onStop: EventEmitter<CdTimerComponent>;\r\n   onTick: EventEmitter<TimeInterface>;\r\n   onComplete: EventEmitter<CdTimerComponent>;\r\n\r\n  constructor(private elt: ElementRef, private renderer: Renderer2) {\r\n    // Initialization\r\n    this.onStart    = new EventEmitter();\r\n    this.onComplete = new EventEmitter();\r\n    this.onStop     = new EventEmitter();\r\n    this.onTick     = new EventEmitter();\r\n\r\n    this.autoStart  = true;\r\n    this.startTime  = 0;\r\n    this.endTime    = 0;\r\n    this.timeoutId  = null;\r\n    this.countdown  = false;\r\n    this.format     = 'default';\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.ngContentNode = this.elt.nativeElement.childNodes[1] ? this.elt.nativeElement.childNodes[1] : this.elt.nativeElement.childNodes[0];\r\n    this.ngContentSchema = this.ngContentNode.nodeValue;\r\n    if (this.autoStart === undefined || this.autoStart === true) {\r\n      this.start();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.resetTimeout();\r\n  }\r\n\r\n  /**\r\n   * Start the timer\r\n   */\r\n  public start() {\r\n    this.initVar();\r\n    this.resetTimeout();\r\n    this.startTickCount();\r\n\r\n    this.onStart.emit(this);\r\n  }\r\n\r\n  /**\r\n   * Resume the timer\r\n   */\r\n  public resume() {\r\n    this.resetTimeout();\r\n\r\n    this.startTickCount();\r\n  }\r\n\r\n  /**\r\n   * Stop the timer\r\n   */\r\n  public stop() {\r\n    this.clear();\r\n\r\n    this.onStop.emit(this);\r\n  }\r\n\r\n  /**\r\n   * Reset the timer\r\n   */\r\n  public reset() {\r\n    this.initVar();\r\n    this.resetTimeout();\r\n    this.clear();\r\n    this.calculateTimeUnits();\r\n    this.renderText();\r\n  }\r\n\r\n  /**\r\n   * Get the time information\r\n   * @returns TimeInterface\r\n   */\r\n  public get() {\r\n    return {\r\n      seconds: this.seconds,\r\n      minutes: this.minutes,\r\n      hours: this.hours,\r\n      days: this.days,\r\n      timer: this.timeoutId,\r\n      tick_count: this.tickCounter\r\n    };\r\n  }\r\n\r\n  private initVar() {\r\n    this.startTime = this.startTime || 0;\r\n    this.endTime   = this.endTime || 0;\r\n    this.countdown = this.countdown || false;\r\n    this.tickCounter = this.startTime;\r\n\r\n    // Disable countdown if start time not defined\r\n    if (this.countdown && this.startTime === 0) {\r\n      this.countdown = false;\r\n    }\r\n\r\n    // Determine auto format\r\n    if (!this.format) {\r\n      this.format = (this.ngContentSchema.length > 5) ? 'user' : 'default';\r\n    }\r\n  }\r\n\r\n  private resetTimeout() {\r\n    if (this.timeoutId) {\r\n      clearInterval(this.timeoutId);\r\n    }\r\n  }\r\n\r\n  private renderText() {\r\n    let outputText;\r\n    if (this.format === 'user') {\r\n      // User presentation\r\n      const items = {\r\n        'seconds': this.seconds,\r\n        'minutes': this.minutes,\r\n        'hours': this.hours,\r\n        'days': this.days\r\n      };\r\n\r\n      outputText = this.ngContentSchema;\r\n\r\n      for (const key of Object.keys(items)) {\r\n        outputText = outputText.replace('[' + key + ']', (items as any)[key].toString());\r\n      }\r\n    } else if (this.format === 'intelli') {\r\n      // Intelli presentation\r\n      outputText = '';\r\n      if (this.days > 0) {\r\n        outputText += this.days.toString() + 'day' + ((this.days > 1) ? 's' : '') + ' ';\r\n      }\r\n      if ((this.hours > 0) || (this.days > 0)) {\r\n        outputText += this.hours.toString() + 'h ';\r\n      }\r\n      if (((this.minutes > 0) || (this.hours > 0)) && (this.days === 0)) {\r\n        outputText += this.minutes.toString().padStart(2, '0') + 'min ';\r\n      }\r\n      if ((this.hours === 0) && (this.days === 0)) {\r\n        outputText += this.seconds.toString().padStart(2, '0') + 's';\r\n      }\r\n    } else if (this.format === 'hms') {\r\n      // Hms presentation\r\n      outputText = this.hours.toString().padStart(2, '0') + ':';\r\n      outputText += this.minutes.toString().padStart(2, '0') + ':';\r\n      outputText += this.seconds.toString().padStart(2, '0');\r\n    } else {\r\n      // Default presentation\r\n      outputText = this.days.toString() + 'd ';\r\n      outputText += this.hours.toString() + 'h ';\r\n      outputText += this.minutes.toString() + 'm ';\r\n      outputText += this.seconds.toString() + 's';\r\n    }\r\n\r\n    this.renderer.setValue(this.ngContentNode, outputText);\r\n  }\r\n\r\n  private clear() {\r\n    this.resetTimeout();\r\n    this.timeoutId = null;\r\n  }\r\n\r\n  protected calculateTimeUnits() {\r\n    if (!this.maxTimeUnit || this.maxTimeUnit === 'day') {\r\n      this.seconds  = Math.floor(this.tickCounter % 60);\r\n      this.minutes  = Math.floor((this.tickCounter / 60) % 60);\r\n      this.hours    = Math.floor((this.tickCounter / 3600) % 24);\r\n      this.days     = Math.floor((this.tickCounter / 3600) / 24);\r\n    } else if (this.maxTimeUnit === 'second') {\r\n      this.seconds  = this.tickCounter;\r\n      this.minutes  = 0;\r\n      this.hours    = 0;\r\n      this.days     = 0;\r\n    } else if (this.maxTimeUnit === 'minute') {\r\n      this.seconds  = Math.floor(this.tickCounter % 60);\r\n      this.minutes  = Math.floor(this.tickCounter / 60);\r\n      this.hours    = 0;\r\n      this.days     = 0;\r\n    } else if (this.maxTimeUnit === 'hour') {\r\n      this.seconds  = Math.floor(this.tickCounter % 60);\r\n      this.minutes  = Math.floor((this.tickCounter / 60) % 60);\r\n      this.hours    = Math.floor(this.tickCounter / 3600);\r\n      this.days     = 0;\r\n    }\r\n\r\n    this.renderText();\r\n  }\r\n\r\n  protected startTickCount () {\r\n    const that = this;\r\n\r\n    that.timeoutId = setInterval(function() {\r\n      let counter;\r\n\r\n      if (that.countdown) {\r\n        // Compute finish counter for countdown\r\n        counter = that.tickCounter;\r\n\r\n        if (that.startTime > that.endTime) {\r\n          counter = that.tickCounter - that.endTime - 1;\r\n        }\r\n      } else {\r\n        // Compute finish counter for timer\r\n        counter = that.tickCounter - that.startTime;\r\n\r\n        if (that.endTime > that.startTime) {\r\n          counter = that.endTime - that.tickCounter - 1;\r\n        }\r\n      }\r\n\r\n      that.calculateTimeUnits();\r\n\r\n      const timer: TimeInterface = {\r\n        seconds: that.seconds,\r\n        minutes: that.minutes,\r\n        hours: that.hours,\r\n        days: that.days,\r\n        timer: that.timeoutId,\r\n        tick_count: that.tickCounter\r\n      };\r\n\r\n      that.onTick.emit(timer);\r\n\r\n      if (counter < 0) {\r\n        that.stop();\r\n\r\n        that.onComplete.emit(that);\r\n        return;\r\n      }\r\n\r\n      if (that.countdown) {\r\n        that.tickCounter--;\r\n      } else {\r\n        that.tickCounter++;\r\n      }\r\n    }, 1000); // Each seconds\r\n  }\r\n\r\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\r\n  selector: 'cd-timer',\r\n  template: ' <ng-content></ng-content>'\r\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: Renderer2, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'startTime': [{ type: Input },],\n'endTime': [{ type: Input },],\n'countdown': [{ type: Input },],\n'autoStart': [{ type: Input },],\n'maxTimeUnit': [{ type: Input },],\n'format': [{ type: Input },],\n'onStart': [{ type: Output },],\n'onStop': [{ type: Output },],\n'onTick': [{ type: Output },],\n'onComplete': [{ type: Output },],\n};\n}\r\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}